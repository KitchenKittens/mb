/* General Body Styling*/
:root{
  --accent:#ff6f96;
  --bg1:#fffdfc;
  --muted:#7a7a7a;
  --max-width:900px;
}
*{box-sizing:border-box}

html{height:100%;margin:0}
body{
  min-height:100%; margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color:#1b1b1b;

  /* Gold → Soft Rose（うねり追加） */
  background:
    linear-gradient(
      140deg,
      rgba(255, 215, 0, 1.0) 0%,
      rgba(255, 215, 0, 0.65) 18%,
      rgba(255, 200, 140, 0.50) 36%,
      rgba(255, 182, 193, 0.60) 64%,
      rgba(248, 217, 225, 0.92) 86%,
      rgba(248, 217, 225, 1.0) 100%
    ),
    radial-gradient(80vw 40vh at 15% 25%, rgba(255,215,0,0.20), rgba(255,215,0,0) 60%),
    radial-gradient(68vw 32vh at 70% 50%, rgba(255,182,193,0.26), rgba(255,182,193,0) 64%),
    radial-gradient(25vw 38vh at 30% 82%, rgba(248,217,225,0.28), rgba(248,217,225,0) 66%),
    radial-gradient(68vw 24vh at 12% 10%, rgba(255,255,255,0.26), rgba(255,255,255,0) 60%),
    radial-gradient(80vw 45vh at 88% 92%, rgba(255,255,255,0.18), rgba(255,255,255,0) 62%);
  background-repeat:no-repeat;
  background-attachment:fixed;
  background-position:center center;
  background-size:cover;
}

/* Fixed header */
.site-header{
  position:fixed; top:12px; left:50%; transform:translateX(-50%);
  z-index:80; display:flex; align-items:center; gap:12px; padding:10px 14px;
  background:rgba(255,255,255,0.97); backdrop-filter:blur(6px);
  border-radius:12px; box-shadow:0 8px 24px rgba(20,20,20,0.08);
  width:min(92%,var(--max-width));
}
.title-wrap h1{font-size:1rem;margin:0;color:var(--accent)}
.subtitle{margin:0;font-size:0.78rem;color:var(--muted)}
.counter{
  margin-left:auto; background:linear-gradient(90deg,#ff9ab3,#ff6f9a);
  color:white; padding:6px 10px; border-radius:999px; font-weight:700; font-size:0.88rem;
  box-shadow:0 6px 18px rgba(255,110,140,0.12)
}

/* Timeline flow */
.timeline{
  max-width:var(--max-width); margin:28px auto; padding:110px 12px 60px;
}
.bubble-section{
  position:relative; height:20vh; margin:18px 0;
}

/* Bubble card (mobile default) */
.bubble{
  position:absolute; z-index:10;
  left:50%; top:50%;
  transform:translate(-50%,-50%) scale(.98);
  width:min(86vw,420px); max-width:420px;
  background:linear-gradient(180deg,#ffffff,#fff8fb);
  border-radius:18px;
  box-shadow:0 14px 40px rgba(22,22,22,0.12);
  overflow:hidden; 
  display:flex; 
  gap:12px;
  align-items:center; 
  padding:12px;
  opacity:0;
  transition:
    opacity 1.2s ease,
    transform 1.2s cubic-bezier(.2,.9,.3,1);
  pointer-events:none;
}
.bubble.show{opacity:1;}

.bubble .pic{width:36%; min-width:96px; height:96px; border-radius:12px; overflow:hidden; flex-shrink:0; background:#f6eef0}
.bubble .pic img{width:100%; height:100%; object-fit:cover; display:block}
.bubble .text{flex:1; min-width:0; padding-right:6px}
.bubble h3{margin:0; font-size:1rem; color:var(--accent)}
.bubble .meta{font-size:0.78rem; color:var(--muted); margin-top:6px}
.bubble .msg{margin-top:8px; font-size:0.95rem; color:#222; line-height:1.3}

/* Hearts */
.heart{
  position:fixed; pointer-events:none; color:#ff4d83; z-index:60;
  font-size:28px; opacity:0; transform:translateY(0) scale(.85);
  animation:heart-pop 1.05s ease forwards;
  text-shadow:0 2px 6px rgba(255,80,140,0.18);
}
@keyframes heart-pop{
  0%{opacity:0; transform:translateY(0) scale(.6)}
  25%{opacity:1; transform:translateY(-12px) scale(1.28)}
  100%{opacity:0; transform:translateY(-90px) scale(.7)}
}

/* Tap interactions - ring & sparkle */
.tap-ring{
  position:fixed; pointer-events:none; z-index:70;
  width:22px; height:22px; border-radius:999px;
  border:3px solid rgba(255, 105, 145, 0.75);
  transform:translate(-50%,-50%) scale(0.7);
  animation:tap-ring-expand 900ms ease-out forwards;
  box-shadow:0 0 0 3px rgba(255,105,145,0.22), 0 10px 28px rgba(20,20,20,0.18);
}
@keyframes tap-ring-expand{
  0%{opacity:0.0; transform:translate(-50%,-50%) scale(0.7)}
  15%{opacity:1}
  100%{opacity:0; transform:translate(-50%,-50%) scale(3.2)}
}

.bubble.press{
  transform:translate(var(--pressX, -50%), var(--pressY, -50%)) scale(0.94);
  transition:transform 180ms ease, box-shadow 180ms ease;
  box-shadow:0 12px 32px rgba(22,22,22,0.12);
}

.sparkle{
  position:fixed; z-index:70; pointer-events:none;
  width:10px; height:10px;
  background:radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0.1) 65%, rgba(255,255,255,0) 80%);
  filter: drop-shadow(0 2px 6px rgba(255, 120, 160, 0.55)) saturate(120%);
  border-radius:50%;
  animation:sparkle-move 1000ms ease-out forwards;
  opacity:0.95;
}
@keyframes sparkle-move{
  0%{transform:translate(0,0) scale(0.8); opacity:0.95}
  60%{opacity:0.85}
  100%{transform:translate(var(--dx, 32px), var(--dy, -48px)) scale(0.2); opacity:0}
}

/* Footer */
.site-footer{
  max-width:var(--max-width); margin:0 auto; padding:24px 12px; color:#7a7a7a; text-align:center;
}

@media(min-width:900px){
  .bubble{width:420px; padding:14px}
  .bubble .pic{height:110px}
  .bubble h3{font-size:1.05rem}
  .bubble .msg{font-size:0.96rem}
}
.bubble.final{background:linear-gradient(180deg,#fff6fb,#fff0f7)}

/* Desktop Grid mode (interactions enabled) */
@media (min-width: 1024px){
  .timeline{
    max-width:1200px; padding:120px 20px 80px;
    display:grid; grid-template-columns:repeat(4,1fr); gap:22px;
  }
  .bubble-section{ position:static; height:auto; margin:0; }
  .bubble{
    position:relative; left:auto; top:auto; transform:none;
    width:100%; max-width:none; opacity:1; pointer-events:auto;
    transition:transform 180ms ease, box-shadow 180ms ease;
  }
  .bubble:hover{ transform:translateY(-3px); box-shadow:0 18px 46px rgba(22,22,22,0.12); }
  .bubble .pic{ height:120px; }
  .bubble h3{ font-size:1.06rem; }
  .bubble .msg{ font-size:0.98rem; }
}